<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>fragebogenpi – Open Source Anamnesebogen für die Praxis</title>

  <style>
    :root{
      --bg:#f5f7f9;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:#e2e8f0;
      --accent:#2563eb;
      --radius:16px;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      --shadow: 0 12px 30px rgba(0,0,0,.12);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--sans);
      background:var(--bg);
      color:var(--text);
      line-height:1.45;
    }

    .wrap{
      max-width:1200px;
      margin:24px auto 60px auto;
      padding:0 16px;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:14px;
    }

    .brand{
      font-weight:800;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .dot{
      width:10px;
      height:10px;
      border-radius:50%;
      background:var(--accent);
    }

    nav a{
      margin-left:12px;
      font-size:14px;
      color:var(--muted);
      text-decoration:none;
    }
    nav a:hover{ text-decoration:underline; }

    /* ===== Bildstreifen: pixelgenau auf Breite skaliert, ohne Beschnitt, ohne Balken ===== */

    .strip{
      display:flex;
      gap:0;
      overflow:hidden;
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      background:#fff;
      width:100%;
      margin-bottom:22px;
    }

    .cell{
      flex:0 0 auto;
      overflow:hidden;
    }

    .cell img{
      display:block;
      width:100%;
      height:100%;
      object-fit:contain; /* kein Beschnitt */
      background:#fff;
    }

    /* nur Außenecken runden */
    .strip .cell:first-child img{
      border-top-left-radius:var(--radius);
      border-bottom-left-radius:var(--radius);
    }
    .strip .cell:last-child img{
      border-top-right-radius:var(--radius);
      border-bottom-right-radius:var(--radius);
    }

    h1{
      font-size:36px;
      margin:18px 0 8px 0;
    }

    .subtitle{
      color:var(--muted);
      margin-bottom:16px;
    }

    .cta a{
      display:inline-block;
      padding:10px 14px;
      border-radius:10px;
      border:1px solid var(--line);
      text-decoration:none;
      font-weight:600;
      margin-right:8px;
      color:var(--text);
      background:#fff;
    }

    .cta a.primary{
      background:var(--accent);
      color:#fff;
      border-color:var(--accent);
    }

    .infobox{
      margin:22px 0;
      padding:16px 18px;
      background:#eef2ff;
      border:1px solid #c7d2fe;
      border-radius:var(--radius);
      color:#1e3a8a;
      font-size:15px;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
    }

    .install{
      margin-top:18px;
      background:#fff;
      border-radius:var(--radius);
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .install header{
      padding:14px 16px;
      border-bottom:1px solid var(--line);
      font-weight:800;
    }

    pre{
      margin:0;
      padding:16px;
      background:#0f172a;
      color:#e5e7eb;
      overflow:auto;
      font-size:14px;
    }

    .req{
      padding:16px;
      font-size:14px;
      color:var(--muted);
    }

    .flow{
      margin-top:18px;
      background:#fff;
      border-radius:var(--radius);
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      padding:16px;
    }

    footer{
      margin-top:28px;
      font-size:13px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      border-top:1px solid var(--line);
      padding-top:12px;
    }

    /* Mobile: wenn extrem schmal, nicht zu hoch werden */
    @media (max-width: 520px){
      h1{ font-size:30px; }
    }
  </style>
</head>

<body>
<div class="wrap">

<header>
  <div class="brand"><span class="dot"></span>fragebogenpi</div>
  <nav>
    <a href="https://github.com/thomaskien/fragebogenpi">GitHub</a>
    <a href="/impressum/">Impressum</a>
  </nav>
</header>

<!-- OBEN: 3 Bilder (Selfie-Screenshot | Foto Setup | Befund-Screenshot) -->
<section class="strip" id="strip-top"
  data-minh="320" data-maxh="640">
  <div class="cell">
    <img src="31ADF5AB-B8A3-42E4-B179-2B3518145C82_1_105_c.jpeg" alt="Selfie aufnehmen">
  </div>
  <div class="cell">
    <img src="187CE7FC-BF4F-4EE8-ACA8-C42979A119BA_1_105_c.jpeg" alt="Setup iPad und Laptop">
  </div>
  <div class="cell">
    <img src="63AEDA82-2CF4-4479-AC56-3F036F6D4F68.png" alt="Befund fotografieren">
  </div>
</section>

<h1>fragebogenpi – Open Source Anamnesebogen für die Praxis</h1>

<p class="subtitle">
  Anamnesebögen, Patientenfotos und Befundbilder mit GDT-Import und Rückschrieb in die <b>Praxissoftware</b>.<br>
  <b>Vollständig offline.</b> <b>Vollständig isoliert.</b> <b>Open Source.</b>
</p>

<div class="cta">
  <a class="primary" href="https://github.com/thomaskien/fragebogenpi">GitHub</a>
  <a href="https://github.com/thomaskien/fragebogenpi#readme">Dokumentation</a>
</div>

<div class="infobox">
  Läuft mit <b>T2med</b>, <b>x.concept</b> und vermutlich fast allen anderen Praxisverwaltungssystemen (PVS).
</div>

<section class="install">
  <header>▶ Installation</header>
  <pre>wget https://fragebogenpi.de/install.sh
chmod +x install.sh
sudo bash install.sh</pre>

  <div class="req">
    <b>Man benötigt</b>
    <ul>
      <li><b>Raspberry Pi</b> ab Version 3</li>
      <li>Raspberry Pi OS (Lite empfohlen)</li>
      <li>High-Endurance-SD-Karte</li>
      <li><b>iPad zur Ausfüllung der Anamnesebögen</b> (z.B. iPad 7 refurbished, griffiger Silikonüberzug empfohlen)</li>
      <li>optional: Smartphone für Befundfotos</li>
      <li>LAN-Anschluss in der Nähe des Wartebereichs</li>
    </ul>
  </div>
</section>

<section class="flow">
  <h2>Ablauf</h2>
  <ol>
    <li>Patientendaten per GDT an fragebogenpi</li>
    <li>Patient füllt Formulare am iPad aus (über vom Praxisnetz abgeschottetes WLAN über den Raspberry Pi)</li>
    <li>Rückschrieb der Daten und Bilder <b>per GDT</b> in die Praxissoftware</li>
  </ol>
</section>

<!-- UNTEN: 2 Bilder (Anamnesebogen | Praxissoftware Screenshot) -->
<section class="strip" id="strip-bottom"
  data-minh="280" data-maxh="560" style="margin-top:22px;">
  <div class="cell">
    <img src="BBC1843E-DC89-49B6-ACD5-4767C0164B96_4_5005_c.jpeg" alt="Anamnesebogen">
  </div>
  <div class="cell">
    <img src="Screenshot 2026-02-06 at 13.48.59.png" alt="Praxissoftware">
  </div>
</section>

<footer>
  <div>© Dr. Thomas Kienzle · Open Source</div>
  <div><a href="/impressum/">Impressum</a></div>
</footer>

</div>

<script>
(function(){
  function clamp(v, lo, hi){ return Math.max(lo, Math.min(hi, v)); }

  async function layoutStrip(strip){
    const imgs = Array.from(strip.querySelectorAll('img'));
    if (!imgs.length) return;

    // Ensure images are loaded to get natural sizes
    await Promise.all(imgs.map(img => {
      if (img.complete && img.naturalWidth > 0) return Promise.resolve();
      return new Promise(res => {
        img.addEventListener('load', res, {once:true});
        img.addEventListener('error', res, {once:true}); // fail-soft
      });
    }));

    const W = strip.clientWidth;
    const minH = parseInt(strip.dataset.minh || "0", 10);
    const maxH = parseInt(strip.dataset.maxh || "10000", 10);

    // Aspect ratios
    const ratios = imgs.map(img => {
      const nw = img.naturalWidth || 1;
      const nh = img.naturalHeight || 1;
      return nw / nh;
    });

    const sumR = ratios.reduce((a,b) => a+b, 0);

    // Ideal height so that sum(widths)=W
    let H = W / sumR;
    H = clamp(H, minH, maxH);

    // If clamped, widths won't sum to W anymore. We still distribute exactly to fill W:
    // widths = ratios * H, then scale factor so sum==W.
    const rawWidths = ratios.map(r => r * H);
    const sumRaw = rawWidths.reduce((a,b)=>a+b, 0) || 1;
    const scale = W / sumRaw;

    const finalWidths = rawWidths.map(w => Math.floor(w * scale));
    // Fix rounding on last item
    const used = finalWidths.slice(0, -1).reduce((a,b)=>a+b, 0);
    finalWidths[finalWidths.length - 1] = Math.max(1, W - used);

    strip.style.height = Math.round(H * scale) + "px";

    const cells = Array.from(strip.querySelectorAll('.cell'));
    cells.forEach((cell, i) => {
      cell.style.width = finalWidths[i] + "px";
      cell.style.height = "100%";
    });
  }

  function layoutAll(){
    const top = document.getElementById('strip-top');
    const bottom = document.getElementById('strip-bottom');
    if (top) layoutStrip(top);
    if (bottom) layoutStrip(bottom);
  }

  window.addEventListener('resize', () => {
    // debounce-ish
    clearTimeout(window.__fpResizeT);
    window.__fpResizeT = setTimeout(layoutAll, 80);
  });

  layoutAll();
})();
</script>
</body>
</html>
